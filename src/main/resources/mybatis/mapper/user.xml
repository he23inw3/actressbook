<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="jp.hiro72.mapper.UserMapper">

    <insert id="registerUserInformation" parameterType="jp.hiro72.mapper.input.UserInformation">
        INSERT INTO USER(
            NAME,
            PASSWORD
        ) VALUES (
            #{name},
            MD5(#{password})
        );
    </insert>

    <select id="checkRegisteredUser" parameterType="jp.hiro72.mapper.input.UserInformation">
        SELECT
            CASE COUNT(*) > 0 THEN TRUE ELSE FALSE END AS CNT
        FROM
            TBL_USER
        WHERE
            NAME = #{name} AND
            PASSWORD = MD5(#{password});
    </select>
</mapper>